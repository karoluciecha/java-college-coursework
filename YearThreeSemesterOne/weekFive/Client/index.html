<!DOCTYPE html>
<html>
<head>
<title>WebSocket Test</title>
</head>
<body>
	<h2>WebSocket Listener</h2>
	<pre id="output">Waiting for data...</pre>
	<script
		src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
	<script>
		const output = document.getElementById('output');
		const socket = new SockJS('http://localhost:8080/ws'); // Backend WebSocket endpoint
		const stompClient = Stomp.over(socket);
		stompClient.connect({}, function() {
			console.log("Connected");
			output.textContent = 'Connected. Waiting for data...';
			stompClient.subscribe('/messages', function(message) {
				const data = JSON.parse(message.body);
				console.log("Received:", data);
				output.textContent = JSON.stringify(data, null, 2);
			});
		});
	</script>
</body>
</html>